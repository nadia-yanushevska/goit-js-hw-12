{"version":3,"file":"commonHelpers.js","sources":["../src/img/error.svg","../src/js/modules/izitoast-options.js","../src/js/modules/izitoast-message.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/modules/helpers.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__8479b7dd__\"","import errorIcon from '../../img/error.svg';\n\nexport function getToastOptions(message) {\n    const options = {\n        message,\n        messageSize: '16px',\n        messageLineHeight: '24px',\n        messageColor: '#fff',\n\n        iconUrl: errorIcon,\n\n        backgroundColor: '#EF4040',\n        progressBarColor: '#B51B1B',\n\n        theme: 'dark',\n        position: 'topRight',\n        class: 'message',\n    };\n    return options;\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getToastOptions } from './izitoast-options.js';\n\nexport function getMessage(delay, isActive) {\n    let message = isActive ? `Fulfilled` : `Rejected`;\n    message += ` promise in ${+delay}ms`;\n    return message;\n}\nexport function showMessage(message, isFulfilled) {\n    iziToast.show(getToastOptions(message, isFulfilled));\n}\n","export function getImages(q = '') {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: '42730262-d44e8a42848c88033a006d73c',\n        q: `\"${encodeURI(q)}\"`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    const url = `${BASE_URL}?${params}`;\n\n    return fetch(url).then(res => {\n        if (!res.ok) throw new Error(res.status);\n        return res.json();\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport function renderGallery(gallery, images) {\n    gallery.innerHTML = galleryTemplate(images);\n    lightbox.refresh();\n}\n\nfunction galleryTemplate(images) {\n    return images.map(imageTemplate).join('\\n\\n');\n}\n\nfunction imageTemplate(img) {\n    const {\n        webformatURL: previewURL,\n        largeImageURL,\n        previewHeight,\n        previewWidth,\n        likes,\n        views,\n        comments,\n        downloads,\n        tags: alt,\n    } = img;\n    return `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                    <img\n                        class=\"gallery-image\"\n                        src=\"${previewURL}\"\n                        alt=\"${alt}\"\n                        width=\"${previewWidth}\"\n                        height=\"${previewHeight}\"\n                    />\n                </a>\n                <ul class=\"desc-list\">\n                        <li class=\"desc-li\">\n                            <h3 class=\"bold\">Likes</h3>\n                            <p>${likes}</p>\n                        </li>\n                        <li class=\"desc-li\">\n                            <h3 class=\"bold\">Views</h3>\n                            <p>${views}</p>\n                        </li>\n                        <li class=\"desc-li\">\n                            <h3 class=\"bold\">Comments</h3>\n                            <p>${comments}</p>\n                        </li>\n                        <li class=\"desc-li\">\n                            <h3 class=\"bold\">Downloads</h3>\n                            <p>${downloads}</p>\n                        </li>\n                    </ul>\n            </li>`;\n}\n","const loaderMarkup = `<span class=\"loader\"></span>`;\n\nexport function showLoader(container) {\n    container.innerHTML = loaderMarkup;\n}\n\nexport function hideLoader(container) {\n    container.innerHTML = '';\n}\n\nexport function formatSearchValue(value) {\n    const words = value.split(' ');\n    return words.filter(word => word).join('+');\n}","import './css/styles.css';\nimport { showMessage } from './js/modules/izitoast-message.js';\nimport { getImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\nimport {\n    showLoader,\n    hideLoader,\n    formatSearchValue,\n} from './js/modules/helpers.js';\n\nconst message =\n    'Sorry, there are no images matching your&nbsp;search query. Please, try again!';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst searchForm = document.querySelector('[js-form]');\n\nsearchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n    e.preventDefault();\n    showLoader(galleryContainer);\n\n    const searchValue = formatSearchValue(\n        e.target.elements['search-name'].value\n    );\n    findImages(searchValue);\n\n    e.target.reset();\n}\n\nfunction findImages(searchValue) {\n    getImages(searchValue)\n        .then(res => {\n            const imageArray = [...res.hits];\n            if (imageArray.length === 0) {\n                hideLoader(galleryContainer);\n                showMessage(message);\n            } else {\n                renderGallery(galleryContainer, imageArray);\n            }\n        })\n        .catch(err => {\n            hideLoader(galleryContainer);\n            showMessage(err);\n        });\n}\n"],"names":["errorIcon","getToastOptions","message","showMessage","isFulfilled","iziToast","getImages","q","BASE_URL","params","url","res","lightbox","SimpleLightbox","renderGallery","gallery","images","galleryTemplate","imageTemplate","img","previewURL","largeImageURL","previewHeight","previewWidth","likes","views","comments","downloads","alt","loaderMarkup","showLoader","container","hideLoader","formatSearchValue","value","word","galleryContainer","searchForm","onSearch","searchValue","findImages","imageArray","err"],"mappings":"6vBAAA,MAAeA,EAAA,2CCER,SAASC,EAAgBC,EAAS,CAgBrC,MAfgB,CACZ,QAAAA,EACA,YAAa,OACb,kBAAmB,OACnB,aAAc,OAEd,QAASF,EAET,gBAAiB,UACjB,iBAAkB,UAElB,MAAO,OACP,SAAU,WACV,MAAO,SACf,CAEA,CCPO,SAASG,EAAYD,EAASE,EAAa,CAC9CC,EAAS,KAAKJ,EAAgBC,CAAoB,CAAC,CACvD,CCdO,SAASI,EAAUC,EAAI,GAAI,CAC9B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAG,IAAI,UAAUF,CAAC,CAAC,IACnB,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC1B,GAAI,CAACA,EAAI,GAAI,MAAM,IAAI,MAAMA,EAAI,MAAM,EACvC,OAAOA,EAAI,MACnB,CAAK,CACL,CCbA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAASC,EAAQ,CAC3CD,EAAQ,UAAYE,EAAgBD,CAAM,EAC1CJ,EAAS,QAAO,CACpB,CAEA,SAASK,EAAgBD,EAAQ,CAC7B,OAAOA,EAAO,IAAIE,CAAa,EAAE,KAAK;AAAA;AAAA,CAAM,CAChD,CAEA,SAASA,EAAcC,EAAK,CACxB,KAAM,CACF,aAAcC,EACd,cAAAC,EACA,cAAAC,EACA,aAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,KAAMC,CACT,EAAGT,EACJ,MAAO;AAAA,gDACqCE,CAAa;AAAA;AAAA;AAAA,+BAG9BD,CAAU;AAAA,+BACVQ,CAAG;AAAA,iCACDL,CAAY;AAAA,kCACXD,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAMdE,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iCAIRC,CAAS;AAAA;AAAA;AAAA,kBAI1C,CC1DA,MAAME,EAAe,+BAEd,SAASC,EAAWC,EAAW,CAClCA,EAAU,UAAYF,CAC1B,CAEO,SAASG,EAAWD,EAAW,CAClCA,EAAU,UAAY,EAC1B,CAEO,SAASE,EAAkBC,EAAO,CAErC,OADcA,EAAM,MAAM,GAAG,EAChB,OAAOC,GAAQA,CAAI,EAAE,KAAK,GAAG,CAC9C,CCHA,MAAMjC,EACF,iFAEEkC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAa,SAAS,cAAc,WAAW,EAErDA,EAAW,iBAAiB,SAAUC,CAAQ,EAE9C,SAASA,EAAS,EAAG,CACjB,EAAE,eAAc,EAChBR,EAAWM,CAAgB,EAE3B,MAAMG,EAAcN,EAChB,EAAE,OAAO,SAAS,aAAa,EAAE,KACzC,EACIO,EAAWD,CAAW,EAEtB,EAAE,OAAO,OACb,CAEA,SAASC,EAAWD,EAAa,CAC7BjC,EAAUiC,CAAW,EAChB,KAAK5B,GAAO,CACT,MAAM8B,EAAa,CAAC,GAAG9B,EAAI,IAAI,EAC3B8B,EAAW,SAAW,GACtBT,EAAWI,CAAgB,EAC3BjC,EAAYD,CAAO,GAEnBY,EAAcsB,EAAkBK,CAAU,CAE1D,CAAS,EACA,MAAMC,GAAO,CACVV,EAAWI,CAAgB,EAC3BjC,EAAYuC,CAAG,CAC3B,CAAS,CACT"}